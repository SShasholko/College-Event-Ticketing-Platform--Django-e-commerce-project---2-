{% extends "events/base.html" %} 
{% load socialaccount %} 

{% block title %}Log In{% endblock %} 

{% block content %}
<div
  class="container d-flex align-items-center justify-content-center mt-5 mb-5"
  style="min-height: 80vh"
>
  <div
    class="card shadow-lg p-4"
    style="max-width: 400px; width: 100%; border-radius: 15px"
  >
    <h2 class="text-center mb-4">Log In</h2>

    <!-- Google Login Button -->
    <div class="text-center mb-3">
      <a
        href="{% provider_login_url 'google' process='redirect' %}"
        class="btn btn-google w-100 py-2 mb-3"
      >
        <i class="fab fa-google me-2"></i> Log in with Google
      </a>
    </div>

    <div class="text-center mb-3">
      <span>or</span>
    </div>

    <!-- Login Form -->
    <form
      method="post"
      action="{% url 'account_login' %}"
    >
      {% csrf_token %}
      <input
        type="hidden"
        name="next"
        value="{{ request.GET.next|default:'' }}"
      />

      <!-- Email Input -->
      <div class="mb-3">
        <label
          for="id_login"
          class="form-label"
          >Email</label
        >
        <input
          type="email"
          id="id_login"
          name="login"
          class="form-control"
          placeholder="Enter your email"
          required
        />
      </div>

      <!-- Password Input -->
      <div class="mb-3">
        <label
          for="id_password"
          class="form-label"
          >Password</label
        >
        <input
          type="password"
          id="id_password"
          name="password"
          class="form-control"
          placeholder="Enter your password"
          required
        />
      </div>

      <!-- Submit Button -->
      <button
        type="submit"
        class="btn gradient-login-btn w-100 py-2 mb-3"
      >
        Log In
      </button>
    </form>

    <!-- Sign Up Link -->
    <p class="text-center mt-3">
      Don't have an account?
      <a
        href="{% url 'account_signup' %}"
        class="text-decoration-underline"
        >Sign up</a
      >
    </p>
  </div>
</div>
{% endblock %}
